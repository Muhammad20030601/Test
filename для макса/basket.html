<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="basket_global.css" />
    <link rel="stylesheet" href="style_basket.css" />
  </head>
  <body>
    <div class="screen">
      <div class="div">
        <div class="text-wrapper">Выбранные товары</div>
          <a href="index.html">
          <img class="image" src="img/2x.png" />
        </a>
        <div class="view">
          <div class="view-2">
            <div class="frame"><div class="text-wrapper-2">Код</div></div>
            <div class="div-wrapper"><div class="text-wrapper-2">Наименование</div></div>
            <div class="frame-2"><div class="text-wrapper-2">Описание</div></div>
            <div class="frame-3"><div class="text-wrapper-2">Цена</div></div>
            <div class="frame-4"><div class="text-wrapper-2">Количество</div></div>
            <div class="frame-5"><div class="text-wrapper-2">Общая сумма</div></div>
            <div class="frame-6"></div>
          </div>
          <div class="new">
          <div class="frame-7">
            <div class="frame-8"><div class="text-wrapper-3">4031</div></div>
            <div class="frame-9"><div class="text-wrapper-4">...</div></div>
            <div class="frame-10"><div class="text-wrapper-4">...</div></div>
            <div class="frame-11"><div class="text-wrapper-4">200 руб.</div></div>
            <div class="frame-12"><div class="text-wrapper-4">30</div></div>
            <div class="frame-13"><div class="text-wrapper-4">6000 руб.</div></div>
            <div class="group-wrapper">
              <div class="group">
                <div class="overlap-group"><div class="text-wrapper-5">удалить</div></div>
              </div>
            </div>
          </div>
          <div class="frame-14">
            <div class="frame-8"><div class="text-wrapper-3">4031</div></div>
            <div class="frame-9"><div class="text-wrapper-4">...</div></div>
            <div class="frame-10"><div class="text-wrapper-4">...</div></div>
            <div class="frame-11"><div class="text-wrapper-4">200 руб.</div></div>
            <div class="frame-12"><div class="text-wrapper-4">30</div></div>
            <div class="frame-13"><div class="text-wrapper-4">6000 руб.</div></div>
            <div class="group-wrapper">
              <div class="group">
                <div class="overlap-group"><div class="text-wrapper-5">удалить</div></div>
              </div>
            </div>
          </div>
          <div class="frame-7">
            <div class="frame-8"><div class="text-wrapper-3">4031</div></div>
            <div class="frame-9"><div class="text-wrapper-4">...</div></div>
            <div class="frame-10"><div class="text-wrapper-4">...</div></div>
            <div class="frame-11"><div class="text-wrapper-4">200 руб.</div></div>
            <div class="frame-12"><div class="text-wrapper-4">30</div></div>
            <div class="frame-13"><div class="text-wrapper-4">6000 руб.</div></div>
            <div class="group-wrapper">
              <div class="group">
                <div class="overlap-group"><div class="text-wrapper-5">удалить</div></div>
              </div>
            </div>
          </div>
          <div class="frame-14">
            <div class="frame-8"><div class="text-wrapper-3">4031</div></div>
            <div class="frame-9"><div class="text-wrapper-4">...</div></div>
            <div class="frame-10"><div class="text-wrapper-4">...</div></div>
            <div class="frame-11"><div class="text-wrapper-4">200 руб.</div></div>
            <div class="frame-12"><div class="text-wrapper-4">30</div></div>
            <div class="frame-13"><div class="text-wrapper-4">6000 руб.</div></div>
            <div class="group-wrapper">
              <div class="group">
                <div class="overlap-group"><div class="text-wrapper-5">удалить</div></div>
              </div>
            </div>
          </div>
          <div class="frame-7">
            <div class="frame-8"><div class="text-wrapper-3">4031</div></div>
            <div class="frame-9"><div class="text-wrapper-4">...</div></div>
            <div class="frame-10"><div class="text-wrapper-4">...</div></div>
            <div class="frame-11"><div class="text-wrapper-4">200 руб.</div></div>
            <div class="frame-12"><div class="text-wrapper-4">30</div></div>
            <div class="frame-13"><div class="text-wrapper-4">6000 руб.</div></div>
            <div class="group-wrapper">
              <div class="group">
                <div class="overlap-group"><div class="text-wrapper-5">удалить</div></div>
              </div>
            </div>
          </div>
        </div>
          <div class="element-wrapper">
            <p class="element">
              <span class="span">Итоговая сумма:</span>
              <span class="text-wrapper-6">&nbsp;&nbsp;</span>
              <span class="text-wrapper-7">30 000 руб.</span>
            </p>
          </div>
        </div>
        <div class="text-wrapper-8">Оформление заказа</div>
        <div class="div-2">
          <div class="rectangle"></div>
          <div class="text-wrapper-9">Наименование юридического лица</div>
        </div>
        <div class="view-3">
          <div class="rectangle"></div>
          <div class="text-wrapper-9">ИНН организации</div>
        </div>
        <div class="view-4">
          <div class="rectangle"></div>
          <div class="text-wrapper-9">Адрес доставки</div>
        </div>
        <div class="view-5">
          <div class="text-wrapper-9">Телефон</div>
          <div class="overlap-wrapper">
            <div class="overlap">
              <div class="overlap-group-wrapper">
                <div class="overlap-group-2"><div class="text-wrapper-10">+7</div></div>
              </div>
              <p class="p">_ _ _&nbsp;&nbsp; _ _ _&nbsp;&nbsp; _ _&nbsp;&nbsp; _ _</p>
            </div>
          </div>
        </div>
        <div class="div-3" id="checkboxContainer">
          <p class="div-4">
            <span class="text-wrapper-11">Я согласен(а) на обработку </span>
            <span class="text-wrapper-12">персональных данных</span>
          </p>
          <div class="image-wrapper">
            <img class="img" id="checkbox" src="img/checked.svg" />
          </div>
        </div>
        
        <div class="view-6">
          <a href="ok.html">
            <div class="overlap-2">
              <div class="text-wrapper-13">Оформить заказ</div>
            </div>
          </a>
        </div>
        
      </div>
    </div>
  
<script>
  // Получаем ссылку на контейнер и чекбокс
const checkboxContainer = document.getElementById('checkboxContainer');
const checkbox = document.getElementById('checkbox');

// Изначальное состояние чекбокса
let isChecked = false;

// Функция для обновления состояния чекбокса
function toggleCheckbox() {
  isChecked = !isChecked;
  if (isChecked) {
    checkbox.src = 'img/checked.svg'; // Замените на изображение для активного чекбокса
  } else {
    checkbox.src = 'img/unchecked.svg'; // Замените на изображение для неактивного чекбокса
  }
}

// Добавляем обработчик клика
checkboxContainer.addEventListener('click', toggleCheckbox);

// Function to display the basket rows on page load
function displayBasketRows() {
  // Retrieve the basket from localStorage
  var basket = JSON.parse(localStorage.getItem('basket')) || [];
  // Find the table body element where we want to display the rows
  var tbody = document.getElementById('basketTable').getElementsByTagName('tbody')[0];
  // Create a table row for each product object in the basket
  basket.forEach(function(product) {
    var row = tbody.insertRow();
    Object.keys(product).forEach(function(key) {
      var cell = row.insertCell();
      cell.innerText = product[key];
    });
  });
}

// новая функция которая заменяет displayBacketRows()
function newDisplayBasketRows() {
  var dir = document.getElementsByClassName("new")
  var basket = JSON.parse(localStorage.getItem('basket')) || [];

  basket.forEach(item => dir[0].innerHTML += `<div class="frame-7">
              <div class="frame-8"><div class="text-wrapper-3">${item.code}</div></div>
              <div class="frame-9"><div class="text-wrapper-4">${item.name}</div></div>
              <div class="frame-10"><div class="text-wrapper-4">${item.description}</div></div>
              <div class="frame-11"><div class="text-wrapper-4">${item.cost}</div></div>
              <div class="frame-12"><div class="text-wrapper-4">${item.amount}</div></div>
              <div class="frame-13"><div class="text-wrapper-4">${item.wholeCost}</div></div>
              <div class="group-wrapper">
                <div class="group">
                  <div class="overlap-group"><div class="text-wrapper-5">удалить</div></div>
                </div>
              </div>`)
  
}

// Call the display function on page load
window.onload = newDisplayBasketRows;
</script>
<script>
  // Функция для перехода на страницу index.html
  function вернутьсяНаIndex() {
    window.location.href = 'index.html';
  }

  // Добавляем слушатель событий для изображения
  const изображение = document.querySelector('.image');
  изображение.addEventListener('click', вернутьсяНаIndex);
</script>

</body>
</html>
